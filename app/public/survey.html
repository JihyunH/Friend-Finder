<!DOCTYPE html>
<html>
<head>
	<title>FriendFinder</title>

<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script
  		src="https://code.jquery.com/jquery-3.1.1.js"
  		integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
  		crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<!-- Font Awesome Glyphicons -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Chosen --> <!-- check below -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.6.2/chosen.css">
	<script  src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.6.2/chosen.jquery.min.js"></script>

</head>
<body>

<div class="container">
	
	<h2>Survey Questions</h2>
	<hr>

	<h3><strong>About You</strong></h3>
	<h4>Name (Required)</h4>
	<input type="text" name="" id="photo" class="form-control" required>

	<h4>Link to Photo Image (Required)</h4>
	<input type="text" name="" id="photo" class="form-control" required>
	
	<hr>

	<h3><strong>Question 1</strong></h3>
	<h4>Your mind is always buzzing with unexplored ideas and plans.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 2</strong></h3>
	<h4>You have clear personal goals.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 3</strong></h3>
	<h4>You enjoy public speaking.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 4</strong></h3>
	<h4>If you sense that people dislike me, you feel very uncomfortable.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 5</strong></h3>
	<h4>You are good at dealing with difficult people.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 6</strong></h3>
	<h4>You  tend to take things personally.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 7</strong></h3>
	<h4>You are always prepared.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>		

	<h3><strong>Question 8</strong></h3>
	<h4>You pay attention to details.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 9</strong></h3>
	<h4>You like order.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>

	<h3><strong>Question 10</strong></h3>
	<h4>You follow a schedule.</h4>
	<select data-placeholder="" class="chosen-select" id="ql">
		<option value=""></option>
		<option value="1">1 (Strongly Disagree)</option>
		<option value="2">2</option>
		<option value="3">3</option>		
		<option value="4">4</option>
		<option value="5">5 (Strongly Agree)</option>
	</select>					

	<br>
	<br>

	<button type="Submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>

	<footer class="footer">
		<div class="container">
			<p><a href="#">API Friends List</a> | <a href="#">GitHub Repo</a></p>
		</div>
	</footer>


<!-- What is below -->
	<!-- Modal -->
	<div id="resultsModal" class="modal fade" role="dialog">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">&times;</button>
			<h2 class="modal-title"><strong>Best Match</strong></h2>
		</div>
		<div class="modal-body">
			<h2 id="matchName"></h2>
			<img id="matchImg" src="http://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg">
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		</div>
	</div>


</div>

	<script type="text/javascript">

	// Create the form inputs
	$("#submit").on("click", function() {

		// Form validation
		function validateForm() {
			var isValid = true;
			$(".form-control").each(function() {
				if ($(this).val() === "") {
					isValid = false;
				}
			});

			$(".chosen-select").each(function() {
				if ($(this).val() === "") {
					isValid = false;
				}
			})
			return isValid;
		}
	



	if (validateForm()) {
		// Create an object for the user's data
		var userData = {
			name: $("#name").val(),
			photo: $("#photo").val(),
			scores: [
				$("#q1").val(),
				$("#q2").val(),
				$("#q3").val(),
				$("#q4").val(),
				$("#q5").val(),
				$("#q6").val(),
				$("#q7").val(),
				$("#q8").val(),
				$("#q9").val(),
				$("#q10").val()
			]
		};

		// Grab the URL of the website
		var currentURL = window.location.origin;

		// AJAX post the data to the friends API.
		$.post(currentURL + "/api/friends", userData, function(data) {
			// Grab the result from the AJAX post so that the best match's name and photo are displayed.
			// $("#matchName").text(data.name);
			// $("#matchImg").attr("src", data.photo);

			//Show the modal with the best match
			$("#resultModal").modal("toggle");
			// alert("working");
		});
	}	
	else {
		alert("Please fill out all fields before submitting!");
	}

	return false;

	});

	</script>
	

</body>
</html>